import React from "react";
import {
  Line,
  Pie,
  Bar,
} from "react-chartjs-2";
import {
  Chart as ChartJS,
  CategoryScale,
  LinearScale,
  PointElement,
  LineElement,
  BarElement,
  ArcElement,
  Tooltip,
  Legend,
} from "chart.js";

ChartJS.register(
  CategoryScale,
  LinearScale,
  PointElement,
  LineElement,
  BarElement,
  ArcElement,
  Tooltip,
  Legend
);

export default function DashboardTailwind() {
  return (
    <div className="min-h-screen bg-gray-100 p-8 font-sans">
      <h1 className="text-2xl font-bold text-gray-900 mb-6">Radar de Retenção 2025</h1>

      <div className="grid grid-cols-12 gap-6">
        {/* Top Cards */}
        <div className="col-span-3 bg-white rounded-xl p-4 shadow-md">
          <p className="text-sm text-gray-500">Clientes Inativos</p>
          <p className="text-3xl font-semibold">15</p>
        </div>
        <div className="col-span-3 bg-white rounded-xl p-4 shadow-md">
          <p className="text-sm text-gray-500">Clientes Reativados no Mês</p>
          <p className="text-3xl font-semibold">8</p>
        </div>
        <div className="col-span-3 bg-white rounded-xl p-4 shadow-md">
          <p className="text-sm text-gray-500">Taxa de Retenção</p>
          <p className="text-3xl font-semibold">72%</p>
        </div>
        <div className="col-span-3 flex justify-end items-start">
          <button className="text-sm bg-gray-200 px-4 py-2 rounded-lg">Alternar Modo</button>
        </div>

        {/* Gráfico Linhas */}
        <div className="col-span-6 bg-white rounded-xl p-4 shadow-md h-64">
          <p className="mb-2 font-semibold">Novos vs. Reativados</p>
          <Line
            data={{
              labels: ["Março", "Abril", "Junho", "Julho"],
              datasets: [
                {
                  label: "Novos",
                  data: [3, 4, 5, 5],
                  borderColor: "#34A853",
                },
                {
                  label: "Reativados",
                  data: [1, 2, 3, 2],
                  borderColor: "#4285F4",
                },
              ],
            }}
            options={{ responsive: true, maintainAspectRatio: false }}
          />
        </div>

        {/* Gráfico Pizza */}
        <div className="col-span-6 bg-white rounded-xl p-4 shadow-md h-64">
          <p className="mb-2 font-semibold">Detalhes do Cliente</p>
          <Pie
            data={{
              labels: ["Em negociação", "Cliente ativo"],
              datasets: [
                {
                  data: [50, 50],
                  backgroundColor: ["#4285F4", "#34A853"],
                },
              ],
            }}
            options={{ responsive: true, maintainAspectRatio: false }}
          />
        </div>

        {/* Calendário */}
        <div className="col-span-4 bg-white rounded-xl p-4 shadow-md">
          <p className="mb-2 font-semibold">Calendário de Contatos</p>
          <div className="grid grid-cols-7 gap-2 text-center text-sm">
            {[...Array(24).keys()].map((d) => (
              <div
                key={d}
                className={`rounded-md py-2 ${[14, 15, 20].includes(d + 1) ? "bg-blue-100 text-blue-600" : "bg-gray-100 text-gray-700"}`}
              >
                {d + 1}
              </div>
            ))}
          </div>
        </div>

        {/* Detalhes Texto */}
        <div className="col-span-4 bg-white rounded-xl p-4 shadow-md">
          <p className="mb-2 font-semibold">Detalhes do Cliente</p>
          <p className="text-gray-600 text-sm">
            Maria Confecções<br />
            Prometer o que não podemos entregar é a maneira mais rápida de perder a credibilidade.
          </p>
          <button className="mt-4 text-sm bg-gray-200 px-4 py-2 rounded-lg">Voltar</button>
        </div>

        {/* Gráfico Barras */}
        <div className="col-span-4 bg-white rounded-xl p-4 shadow-md h-64">
          <p className="mb-2 font-semibold">Indicadores Gerais</p>
          <Bar
            data={{
              labels: ["A", "B", "C", "D", "E"],
              datasets: [
                {
                  label: "Indicador",
                  data: [20, 25, 30, 22, 28],
                  backgroundColor: "#34A853",
                },
              ],
            }}
            options={{ responsive: true, maintainAspectRatio: false }}
          />
        </div>

        {/* Filtro Simples */}
        <div className="col-span-6 bg-white rounded-xl p-4 shadow-md">
          <p className="mb-2 font-semibold">Filtros e Categorias</p>
          <select className="w-full border border-gray-300 rounded-lg p-2 text-sm">
            <option>Todos os Status</option>
            <option>Ativos</option>
            <option>Inativos</option>
          </select>
        </div>
      </div>
    </div>
  );
}
